echo "Running DATE:" $(date +"%Y-%m-%d %H:%M")
export CUDA_VISIBLE_DEVICES=1

DATE=`date '+%Y%m%d_%H%M'`
echo "Save as: " $DATE

# declare -a envs=('pettingzoo_boxing_v1' 'pettingzoo_combat_tank_v1' 'pettingzoo_surround_v1')
declare -a envs=('pettingzoo_ice_hockey_v1' )
#declare -a envs=('pettingzoo_surround_v1' 'pettingzoo_tennis_v2')

# declare -a methods=('selfplay' 'fictitious_selfplay' 'nxdo' 'nxdo2' 'nfsp' 'nash_dqn' 'nash_dqn_exploiter')
declare -a methods=('nash_ppo')
# declare -a methods=('selfplay2' 'fictitious_selfplay2' 'nxdo2' 'nfsp' 'nash_dqn' 'nash_dqn_exploiter' 'nash_ppo')

mkdir -p log/$DATE
LoadFrom='20211205_2241'

for env in ${envs[@]}; do
    for method in ${methods[@]}; do
        echo python general_exploit.py --env $env --method $method --load_id $LoadFrom --save_id $DATE output log to: log/$DATE/${env}_${method}.log &
        nohup python general_exploit.py --env $env --method $method --load_id $LoadFrom --save_id $DATE > log/$DATE/${env}_${method}.log &
    done
done
